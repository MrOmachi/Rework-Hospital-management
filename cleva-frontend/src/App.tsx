import React, { useContext, useState } from "react";
import "./App.css";
import { RouterProvider } from "react-router-dom";
import routes from "./routes";
import { AccountContext, AuthContext } from "./components/Auth/AccountContext";
import { init } from "./features/services/AmazonService";

interface IUser {
  email: string;
  password: string;
}

function App() {
  const currentUserContext = useContext(AuthContext);
  // if (currentUserContext !== null && currentUserContext.cu) {
  //   await currentUserContext.authenticate(email, password);
  // }

  const [user, setUser] = useState<IUser | null>({
    email: "user@email.com",
    password: "password",
  });


  /**
   *
   * {"AuthenticationResult":{"AccessToken":"eyJraWQiOiJWc0FlMUhZYktqdWxBNXl6Uk5rcDdZcHpFZ2JOYWZkcUN3YnhvcFd3c0tZPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJiMjI1NjQ4NC1kMDYxLTcwYWUtM2I0Mi1iM2MxMWI2Y2I5OGUiLCJkZXZpY2Vfa2V5IjoiZXUtd2VzdC0xX2JmM2I0N2ZiLWM5ZDgtNDA3Yi1iNzU5LTEyNDFkZGQ1YjI3MyIsImNvZ25pdG86Z3JvdXBzIjpbIkJ1c2luZXNzQWRtaW4iXSwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfMHNiQXJBN1NGIiwiY2xpZW50X2lkIjoiNTNmYW9uY2RzZzBiZnY5YjIyZmUyY2pyZzAiLCJvcmlnaW5fanRpIjoiMDZmYzhiYjItZmQyYS00NDY5LWJkN2MtY2ZjYzkxZDZmNDYzIiwiZXZlbnRfaWQiOiJmY2VlYWI0Zi0yYzEyLTRjYzQtOWU2Ny0wZWNhNGI3ZGU2OGEiLCJ0b2tlbl91c2UiOiJhY2Nlc3MiLCJzY29wZSI6ImF3cy5jb2duaXRvLnNpZ25pbi51c2VyLmFkbWluIiwiYXV0aF90aW1lIjoxNjg2ODQ2NDU5LCJleHAiOjE2ODY4NTAwNTksImlhdCI6MTY4Njg0NjQ1OSwianRpIjoiNmMwMGFiOTQtOWE3My00NzEwLWI3NTktZWM4MmI4NjU2MzA3IiwidXNlcm5hbWUiOiJiMjI1NjQ4NC1kMDYxLTcwYWUtM2I0Mi1iM2MxMWI2Y2I5OGUifQ.TDzI09Y4NKRF_YRV_XHA9cJ5bEj7lkC1q4jVc_Wo3bLMf9f4KG5qW__9kyzTgKSqA3-cUt27ZueyD4AcFbAYLLydRiO7fkbIcjhUsIk2e_LPIeRtnLuwytgg11qO9PbmyGAnNYoFtvpBm2wpYNVloby5VA8_WHs5dsgpZho4Y_Qnc0yHaYXOc7JfPWU35Anf-XjTT0KxER-VrO_KC19IKQ6q4rqrSzAGGOUTKBpQc1kZRdKuk9XHRCIBl3YTPu9H6Mxf4cPPTj3likXPPyDApg-BQcscZuJBBypyF-Eoavbmw4MIA-sUrCNZnj6rkIYUh3grYHIltFsq0CodHi9uGA","ExpiresIn":3600,"IdToken":"eyJraWQiOiJsTHRaSFdUMWhKNFJkcnU4ajJ3eForWTFreFFZVDhIOXVaRW50dXF6S3pBPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJiMjI1NjQ4NC1kMDYxLTcwYWUtM2I0Mi1iM2MxMWI2Y2I5OGUiLCJjb2duaXRvOmdyb3VwcyI6WyJCdXNpbmVzc0FkbWluIl0sImJpcnRoZGF0ZSI6IjQ1MTgtNDQtOTciLCJnZW5kZXIiOiJPVEhFUiIsImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xXzBzYkFyQTdTRiIsImN1c3RvbTppZCI6ImJ1LWxpdmJ5ZHdsLXM1ODdyeSIsImNvZ25pdG86cm9sZXMiOlsiYXJuOmF3czppYW06Ojg4NjU2MzI3NTAzODpyb2xlXC9CdXNpbmVzc0FkbWluUGVybWlzc2lvbnNSb2xlLXFhIl0sImN1c3RvbTpidXNpbmVzc1RvQWNjb3VudHMiOiJ1c2VyLWdqeTFFcW5PeVoxTnRidlRENllRbFNsb3F8fGJ1LXFYeFV1T3BhVjY5cHZadm1nR05UMGZZV3lmcSwgdXNlci1UWjk1bk5NVWZWRnBNU2VKMVFjeUZiQ0VNfHxidS1OaXEyMmZNek5IeVU4Z3p0RDRERmJZa05rbDgiLCJhdXRoX3RpbWUiOjE2ODY4NDY0NTksImV4cCI6MTY4Njg1MDA1OSwiaWF0IjoxNjg2ODQ2NDU5LCJqdGkiOiI5YTc0ZTJhOS1iN2UwLTRlODUtYjNhYi0zYTRjMDViYWJlNjAiLCJlbWFpbCI6InBkZ3VydTgxQGdtYWlsLmNvbSIsImN1c3RvbTp0eXBlIjoiQnVzaW5lc3NVc2VyIiwiY3VzdG9tOnBpbiI6Ijk1ODQiLCJ3ZWJzaXRlIjoiPHN0cmluZz4iLCJlbWFpbF92ZXJpZmllZCI6ZmFsc2UsImFkZHJlc3MiOnsiZm9ybWF0dGVkIjoie1wiU3RyZWV0QWRkcmVzc1wiOlwiPHN0cmluZz5cIixcIlNlY29uZFN0cmVldEFkZHJlc3NcIjpcIjxzdHJpbmc-XCIsXCJDaXR5XCI6XCI8c3RyaW5nPlwiLFwiQ291bnRyeVwiOlwiTmlnZXJpYVwiLFwiU3RhdGVPclRlcnJpdG9yeVwiOlwiPHN0cmluZz5cIixcIlppcGNvZGVcIjpcIjxzdHJpbmc-XCIsXCJMR0FcIjpcIjxzdHJpbmc-XCJ9In0sInBob25lX251bWJlcl92ZXJpZmllZCI6ZmFsc2UsImNvZ25pdG86dXNlcm5hbWUiOiJiMjI1NjQ4NC1kMDYxLTcwYWUtM2I0Mi1iM2MxMWI2Y2I5OGUiLCJnaXZlbl9uYW1lIjoiPHN0cmluZz4iLCJvcmlnaW5fanRpIjoiMDZmYzhiYjItZmQyYS00NDY5LWJkN2MtY2ZjYzkxZDZmNDYzIiwiYXVkIjoiNTNmYW9uY2RzZzBiZnY5YjIyZmUyY2pyZzAiLCJldmVudF9pZCI6ImZjZWVhYjRmLTJjMTItNGNjNC05ZTY3LTBlY2E0YjdkZTY4YSIsInRva2VuX3VzZSI6ImlkIiwicGhvbmVfbnVtYmVyIjoiKzIzNDgxMzQyMjEwOTgifQ.t9N8Id-XOqcXATtPiRMEC0QC1zxa-OvORpP_hNIq7wW1AO489kX_tnakW98LpEwAS66tuURCHXAygkAKX-OwR6g9i-RdrXsM5Cjwwz1EZIKeap7WgwNKT-0yRlKawIHF8fh0ol2O55iJesHo40UftZ0tlQKVtNGcRKVmKqjq3k5syKhBUGYAKjPUdLYBfQN2n89XqiUIxnxnXdWdr1BEhgDu-kbmKh1VIwAfStwsUj4V1_fA_a6ce2W1CARymXUuvFgLzWFwP0njQq1LsEKE1kqtxuT-ClkxfsHD5lk43hb4jxpsD4MYb4zTWMUInq-q_4Wn_t7sCxjbVmvs_4qI5w","NewDeviceMetadata":{"DeviceGroupKey":"-Wec2JWKQ","DeviceKey":"eu-west-1_bf3b47fb-c9d8-407b-b759-1241ddd5b273"},"RefreshToken":"eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.D31UR5MB9dudRE1CoIHMcyNdGxalqwenOjEfT6BR-ZghOWHk7WShnTPmprasmO-xilqwBLwlrPRsGPYQZDCMUlsjneUtlVXivrQ38pUO0iYcJs2JvwVe-nmnMPhX2f26m6TrGGZuaqB28_JT776X5NvqUVv06gqhDRKPBstwiLZ10J_hvL4ZZZGkZ6msCLhjagyvf_1fg-Y8wVAgr0u-7GR0d5AGxklNwJ4oyEa3qQiCgqYeh2XOTbR3_lbWmw4fQ0T1iQ4nJYK4uKbWCi8VBQ0Gf2cFiByV8y6qQy-oBelw7NUaWlX2UFE-ggEPjFj76ODT2QxgNhRsgqH4kpiwmQ.Dk9m9rir3dKla0VM.KsRjvUYvyg8Ahnako4UTqhqwna92mKR2UcGIww4erFm36y1Qy5_HQF_xAvfOPQ1EcDBx9bfftF5vQDDhczcnuTrt8VCYQg45JX9QBy0-mPVi7NOX7g7YGQsvqhY2MTi1UVKgSWCKKfg-NlpDxboC56VzRmdOuTk-IEmDtrgVswcnHwr3VrkMEPK4vsTCzyUdEtjemGfuuM1mPf0dbAVDkjrVZ8DBBl9cuBXwFX5FkE99OjqMd-JnlGPn3c3gsrduxqu76IWbqW76k-g_6yBz5PJ5sp6ubQzNi-SEWrLyXo7IgBRdMgUL5uL5sWrk_VXF3kToYSnd12GddCkieOvDHWDZQeTngB53mu1AJerFskW02yDWMkHe2YRkXj60l983szdU9p6mAOu2o807wZ4SN9XHtKhhgpeqPAj5VxS0GbkTOlkhjc0cYueOlWL6gP6eQUhvUzJJdAx0F52FyEiMtdzNMb2zLX7fWlyZtpg3q9dekqyk3AjLJAEGsa2AX2A4ZSCoKUPRyVVwWW8Zazehs4aYtCMJ3g7N83UG4ggulBpMA3F0PIMCySBrb3a2BFiTn3lYSBcaYmlUtkgOe7rrezcl3lUFZT7cpG9sn-PlcN4CUP5D17srknVm2vu7kgjj06FAYZPUpG9MlYY6qyv3YU8KgIHIrOjRWUukjdA6EqqSLt4MKKTswcVobaJUt5-VPK21cv5vIG4SFyYiudWmAENipdu4ehkjGEfu1jQYcW-4cPKrphjiRbzT6kx3A5A1EGsb_x3vDQFJX_V-uujea5s4L7QkvFcEUNmrO8GQzZNBUUSnC8qppuEsSbIAh-0K0tFj8S_i42F0GDhl7Cmq76ulljvunegl_kG1CV160OavEMcu4ICjDdzHe2GA1-UzwQQK6a1UrrTlbZsKA0T7E9hNmkpaHBALTEJhRm6W0he_UBaw-snrauMfDeq1lWzcpONI_olr0qgm4nntENmaGiC0hr5dh2gt-PvpmpsbEu2OomCeEX6qUrNMCfF52GsMWPA4VhnGCh_5MaIh44TSWCez2CNkXc8IDhlzgUkHAOQa1J8cEpZM-Fa_D4YrWid87J-eFI_2EqT1QUzf-StntjBnpVeUAxmrmnMFHp58GuLpyOsSC1a4iM0Ryb-WD_WYqYHVR67n9muSGC2ZT_kIHTPX9L69uPJ8mLH53lhKKoGTy5yGxRM2POj47dVlOWTpr1nusAXN0-SRZLW7HFwGKFqqBmlZFyai43HXxX456aNsSCRJzI1lZKkSeyMukad6kWhBaHs5r1XMpO7rPPO7XNNtwwIBIfgmj_FSlfiwagHQSM3lptMaKDODoHQTlbzg1K10yRLn686JFDw2HcNV-q5rYTZ-vG_Bn3ojQjsVAjUtm3UnU6I80ZTCiyqZv_oCBrP8XGnFtdNY-Qx8UIOBoAwdxGRYAroycw9cuVXR.WRqmKzC9H2iewZ9tKQKZfg","TokenType":"Bearer"},"ChallengeParameters":{}}
   */

  // init for fetching amazon details
  // init().catch((error) => {
  //   console.error("App initialization error:", error);
  // });

  return (
    <>
      <AccountContext>
        <RouterProvider router={routes(user)} />
      </AccountContext>
    </>
  );
}

export default App;
